<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>
</head>

<body>
  <textarea id="output" rows="10" cols="50"></textarea>
  <button py-click="loadIMUData" id="button1"> Load data from 1.py</button>
  <script type="py" src="./1.py" config="./pyscript.json"></script>

  <textarea id="output2" rows="10" cols="50"></textarea>
  <button py-click="loadOtherData" id="button2" disabled> Load data from 2.py</button>
  <script type="py" src="./2.py" config="./pyscript.json"></script>
  <script>
    function handleButtonStates() {
      var outputTextArea = document.getElementById('output');
      var button2 = document.getElementById('button2');

      // Enable Load data from 2.py button if output textarea is populated
      if (outputTextArea.value.trim() !== "") {
        button2.disabled = false;
      } else {
        button2.disabled = true;
      }
    }
    // Register an event listener on output textarea change
    document.getElementById('output').addEventListener('input', handleButtonStates);

    // Custom function to enable the second button
    function enableLoad2Button() {
      var load2Button = document.getElementById('button2');
      load2Button.disabled = false;
    }
  </script>
</body>

</html>